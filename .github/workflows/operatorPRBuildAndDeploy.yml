name: Cass Operator Build & Deploy
on: pull_request
jobs:
  build_operator_docker:
    name: Build Cass Operator Docker Image
    runs-on: ubuntu-latest
    env:
      GOPATH: /home/runner/go
      GOROOT: /usr/local/go1.13
    steps:
      - uses: actions/checkout@v2
        with:
          ref: ${{ github.event.pull_request.head.sha }}
      - name: Set up Go 1.13
        uses: actions/setup-go@v1
        with:
          go-version: 1.13
      - name: Test
        env:
          GH_REF: ${{ github.ref }}
          GH_PR_HEAD_REF: ${{ github.event.pull_request.head.ref }}
        run: |
          echo "Base Ref: ${GITHUB_BASE_REF}"
          echo "Head Ref: ${GITHUB_HEAD_REF}"
          echo "Ref: ${GH_REF}"
          echo "PR Head Ref: ${GH_PR_HEAD_REF}"
